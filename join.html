<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>djugé›‘è«‡éƒ¨ å‚åŠ ç”³ã—è¾¼ã¿</title>
    
    <style>
        /* ãƒšãƒ¼ã‚¸å…¨ä½“ã®åŸºæœ¬çš„ãªã‚¹ã‚¿ã‚¤ãƒ« */
        body {
            font-family: 'Arial', sans-serif;
            padding: 20px;
            background-color: #f4f4f9; /* è–„ã„èƒŒæ™¯è‰² */
        }
        /* ãƒ•ã‚©ãƒ¼ãƒ å…¨ä½“ã‚’ä¸­å¤®ã«é…ç½®ã—ã€æ ã‚’ä»˜ã‘ã‚‹ */
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #007bff; /* ã‚¿ã‚¤ãƒˆãƒ«ä¸‹ã®ç·š */
            padding-bottom: 10px;
        }
        /* ãƒ©ãƒ™ãƒ«ï¼ˆé …ç›®åï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        label {
            display: block;
            margin-top: 15px;
            margin-bottom: 5px;
            font-weight: bold;
        }
        /* ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›æ¬„ã¨ãƒœã‚¿ãƒ³ã®å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
        input[type="text"], input[type="email"], textarea, input[type="submit"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box; 
        }
        textarea {
            resize: vertical; /* å‚ç›´æ–¹å‘ã®ã¿ãƒªã‚µã‚¤ã‚ºå¯èƒ½ */
            height: 100px;
        }
        /* é€ä¿¡ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        input[type="submit"] {
            background-color: #007bff;
            color: white;
            cursor: pointer;
            margin-top: 20px;
            font-size: 16px;
            transition: background-color 0.3s; /* ãƒ›ãƒãƒ¼æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        }
        input[type="submit"]:hover {
            background-color: #0056b3;
        }
        /* å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #response-message {
            margin-top: 20px;
            padding: 10px;
            border-radius: 4px;
            font-weight: bold;
            display: none; /* åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º */
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>ğŸ“ djugé›‘è«‡éƒ¨ å‚åŠ ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ </h2>
        
        <form id="applyForm">
            
            <label for="userName">**ãŠåå‰ï¼ˆDiscordãªã©ã®IDåï¼‰:**</label>
            <input type="text" id="userName" name="userName" required>
            
            <label for="userEmail">**ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ (æ‹›å¾…URLã‚’é€ã‚Šã¾ã™):**</label>
            <input type="email" id="userEmail" name="userEmail" required>
            
            <label for="reason">**å‚åŠ ç†ç”± (ç°¡å˜ã«):**</label>
            <textarea id="reason" name="reason" required></textarea>
            
            <input type="submit" value="æ‹›å¾…ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã‚‚ã‚‰ã†">
        </form>

        <div id="response-message"></div>
    </div>

    <script>
        document.getElementById('applyForm').addEventListener('submit', function(e) {
            e.preventDefault(); // ãƒ•ã‚©ãƒ¼ãƒ ã®é€šå¸¸ã®é€ä¿¡ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
            
            // â­æ³¨æ„: ã“ã“ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸGoogle Apps Scriptã®URLã‚’è¨˜è¿°ã—ã¦ãã ã•ã„
            const gasUrl = "https://script.google.com/macros/s/AKfycby9WjFnlqjeCLm5zi3abnOHreMwkQ8EtqFi211wi1tFDcj5wNloj534SCcIzNJk7K--uQ/exec"; 
            
            const form = e.target;
            const formData = new FormData(form);
            const responseMessage = document.getElementById('response-message');

            // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’JSONå½¢å¼ã«å¤‰æ›
            const data = {};
            formData.forEach((value, key) => data[key] = value.trim());

            // é€ä¿¡ä¸­ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            responseMessage.textContent = 'é€ä¿¡ä¸­...ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚'; 
            responseMessage.style.display = 'block';
            responseMessage.style.backgroundColor = '#fff3cd'; // é»„è‰²ï¼ˆå¾…æ©Ÿè‰²ï¼‰
            responseMessage.style.color = '#856404';
            
            // GASã¸ã®ãƒ‡ãƒ¼ã‚¿é€ä¿¡ï¼ˆéåŒæœŸé€šä¿¡: fetch APIã‚’ä½¿ç”¨ï¼‰
            fetch(gasUrl, {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json()) // å¿œç­”ã‚’JSONã¨ã—ã¦è§£æ
            .then(result => {
                // GASã‹ã‚‰ã®å¿œç­”ã‚’å‡¦ç†
                responseMessage.textContent = result.message;

                if (result.status === 'success') {
                    // æˆåŠŸæ™‚: èƒŒæ™¯ã‚’ç·‘ã«
                    responseMessage.style.backgroundColor = '#d4edda'; 
                    responseMessage.style.color = '#155724';
                    form.reset(); // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ã‚¯ãƒªã‚¢
                } else {
                    // å¤±æ•—æ™‚: èƒŒæ™¯ã‚’èµ¤ã«
                    responseMessage.style.backgroundColor = '#f8d7da';
                    responseMessage.style.color = '#721c24';
                }
            })
            .catch(error => {
                // é€šä¿¡ã‚¨ãƒ©ãƒ¼æ™‚
                responseMessage.textContent = 'é€šä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚æ™‚é–“ã‚’ãŠã„ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚';
                responseMessage.style.backgroundColor = '#fcf8e3';
                responseMessage.style.color = '#8a6d3b';
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>            --header-color: #5865f2; /* Discordãƒ–ãƒ«ãƒ¼ */
            --border-color: #202225;
            --rules-bg: #292b2f;
            --button-bg: #5865f2;
            --button-hover-bg: #4752c4;
            --button-disabled-bg: #4f545c;
            --input-bg: #202225;
            --input-border: #36393f;
            --link-color: #7289da; /* ãƒªãƒ³ã‚¯è‰² */
        }

        /* ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é©ç”¨ */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease; /* ã‚¹ãƒ ãƒ¼ã‚ºãªåˆ‡ã‚Šæ›¿ãˆ */
        }

        .container {
            background-color: var(--container-bg);
            transition: background-color 0.3s ease;
        }

        h1 {
            color: var(--header-color);
            transition: color 0.3s ease;
        }

        .rules {
            border-color: var(--border-color);
            background-color: var(--rules-bg);
            transition: border-color 0.3s ease, background-color 0.3s ease;
        }

        .rules p strong {
            color: var(--text-color); /* å¼·èª¿ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ã‚‚ãƒ†ãƒ¼ãƒã«åˆã‚ã›ã‚‹ */
        }

        .rules p {
            color: var(--text-color);
        }

        .agreement label {
            color: var(--text-color);
        }

        #agreeButton {
            background-color: var(--button-bg);
            transition: background-color 0.3s ease;
        }

        #agreeButton:hover:not(:disabled) {
            background-color: var(--button-hover-bg);
        }

        #agreeButton:disabled {
            background-color: var(--button-disabled-bg);
            cursor: not-allowed;
        }

        .security-question input {
            background-color: var(--input-bg);
            border-color: var(--input-border);
            color: var(--text-color);
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }

        .security-question button {
            background-color: var(--button-bg);
            transition: background-color 0.3s ease;
        }

        .security-question button:hover {
            background-color: var(--button-hover-bg);
        }

        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º */
        .rules::-webkit-scrollbar {
            width: 8px;
        }
        .rules::-webkit-scrollbar-track {
            background: var(--rules-bg);
            border-radius: 10px;
        }
        .rules::-webkit-scrollbar-thumb {
            background: #888; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚µãƒ ã®è‰²ã¯å›ºå®š */
            border-radius: 10px;
        }
        .rules::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* ãƒ€ãƒ¼ã‚¯/ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #themeToggle {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background-color: var(--container-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 9999px; /* ä¸¸ã„å½¢ */
            padding: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        #themeToggle:hover {
            background-color: var(--rules-bg);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 relative">
    <!-- ãƒ€ãƒ¼ã‚¯/ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
    <button id="themeToggle" aria-label="ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹">
        <!-- SVGã‚¢ã‚¤ã‚³ãƒ³ã§å¤ªé™½ã¨æœˆã‚’è¡¨ç¾ -->
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <!-- å¤ªé™½ã‚¢ã‚¤ã‚³ãƒ³ (ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰æ™‚) -->
            <path class="sun-icon" d="M12 2.5a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2a.5.5 0 01.5-.5zM12 19.5a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2a.5.5 0 01.5-.5zM19.5 12a.5.5 0 01.5.5h2a.5.5 0 010 1h-2a.5.5 0 01-.5-.5zM2.5 12a.5.5 0 01.5.5h2a.5.5 0 010 1h-2a.5.5 0 01-.5-.5zM17.379 6.621a.5.5 0 01.354.854l-1.414 1.414a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.353-.147zM6.621 17.379a.5.5 0 01.354.854l-1.414 1.414a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.353-.147zM17.379 17.379a.5.5 0 01-.354.854l-1.414 1.414a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.353-.147zM6.621 6.621a.5.5 0 01-.354.854l-1.414 1.414a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.353-.147zM12 7a5 5 0 100 10 5 5 0 000-10z" />
            <!-- æœˆã‚¢ã‚¤ã‚³ãƒ³ (ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰æ™‚) -->
            <path class="moon-icon hidden" d="M12 3a9 9 0 109 9c0-.5-.04-1-.12-1.5A6.992 6.992 0 0112 3z" />
        </svg>
    </button>

    <div class="container rounded-xl shadow-lg p-8 max-w-2xl w-full">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ† -->
        <h1 class="text-4xl font-bold text-center mb-6">
            djugé›‘è«‡éƒ¨ ãƒ«ãƒ¼ãƒ«
        </h1>

        <!-- ãƒ«ãƒ¼ãƒ«ã¨åŒæ„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div id="rulesAndAgreementSection">
            <!-- ãƒ«ãƒ¼ãƒ«è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div class="rules border rounded-lg p-6 mb-6 h-96 overflow-y-auto leading-relaxed">
                <p class="mb-4"><strong>èª¹è¬—ä¸­å‚·ã‚’ã—ãªã„ã“ã¨</strong></p>
                <p class="mb-4">å½“ã‚µãƒ¼ãƒãƒ¼ã«å…¥éƒ¨ä¸­ã®ãƒ¡ãƒ³ãƒãƒ¼ã‚„ãƒªã‚¢ãƒ«ã®äººç­‰ã®èª¹è¬—ä¸­å‚·ã‚’ã—ãªã„ã§ãã ã•ã„ã€‚ãã‚Œã§äººã³ã¨ãŸã¡ã¯è‹¦ã—ã‚“ã§ã—ã¾ã„ã¾ã™ã€‚</p>
                <p class="mb-4"><strong>è’ã‚‰ã—ã‚’ã—ãªã„ã“ã¨</strong></p>
                <p class="mb-4">å½“ã‚µãƒ¼ãƒãƒ¼ã¯ã€è’ã‚‰ã—ã§æ¥½ã—ã‚€ã‚µãƒ¼ãƒãƒ¼ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼è’ã‚‰ã—ã‚’ã•ã‚Œã‚‹ã¨ã€å‰Šé™¤ãŒå¤§å¤‰ã«ãªã‚Šã¾ã™ã®ã§çµ¶å¯¾ã«ã—ãªã„ã§ãã ã•ã„ã€‚</p>
                <p class="mb-4"><strong>å±é™ºãªãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒªãƒ³ã‚¯ã‚’ã‚¢ãƒƒãƒ—ã—ãªã„ã“ã¨</strong></p>
                <p class="mb-4">ãƒˆãƒ­ã‚¤ã®æœ¨é¦¬ç­‰ã®å…¥ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚„è©æ¬ºã‚µã‚¤ãƒˆã€ä½ç½®æƒ…å ±ã‚’ç›—ã‚€ã‚µã‚¤ãƒˆã€ã‚¢ãƒ€ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæ²è¼‰ã•ã‚ŒãŸã‚µã‚¤ãƒˆç­‰ã‚’æŠ•ç¨¿ã™ã‚‹ã“ã¨ã¯ã‚„ã‚ã¦ãã ã•ã„ã€‚</p>
                <p class="mb-4"><strong>â˜…ãƒ©ã‚¤ãƒ–ãƒãƒ£ãƒ³ãƒãƒ«ã«é–¢ã—ã¦â˜…</strong></p>
                <p class="mb-4">ç®¡ç†äººã®è¨±å¯ãªãã€ã”è‡ªç”±ã«é…ä¿¡ã‚’ã—ã¦ã„ãŸã ã‘ã¾ã™ã€‚</p>
                <p class="mb-4"><strong>â˜…å¤–éƒ¨ãƒªãƒ³ã‚¯ã«ã¤ã„ã¦â˜…</strong></p>
                <p class="mb-4">ã‚·ã‚§ã‚¢ã‚„å‚ç…§ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«å¤–éƒ¨ãƒªãƒ³ã‚¯ã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã“ã¨ã‚’è¨±å¯ã—ã¦ã„ã¾ã™ãŒã€ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹å ´åˆã¯ååˆ†ã«æ³¨æ„ã—ã¦ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã™ã‚‹ã‚ˆã†ãŠé¡˜ã„ã—ã¾ã™ã€‚</p>
                <p class="mb-4">â€»ã„ã‹ã«ã‚‚æˆäººå‘ã‘ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å ´åˆã¯ã€è©æ¬ºã‚µã‚¤ãƒˆã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã®ã§ã€ãã®ã‚ˆã†ãªãƒªãƒ³ã‚¯ã‚’è¦‹ã¤ã‘ãŸã‚‰ã€ç®¡ç†äººã®DMã«ã¦ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚è¿…é€Ÿã«å¯¾å¿œã—ã¾ã™ã€‚</p>
                <p class="mb-4"><strong>â˜…è‘—ä½œæ¨©ã«ã¤ã„ã¦â˜…</strong></p>
                <p class="mb-4">å‹•ç”»ã€ç”»åƒã€æ–‡ç« ã¯è‘—ä½œæ¨©ã§ä¿è­·ã•ã‚Œã¦ã‚‹ã“ã¨ãŒå¤šãã€äººåˆã¯å›£ä½“ã®è‘—ä½œç‰©ã‚’è¨±å¯ãªãã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã¯ã€ã€Œè‘—ä½œæ¨©æ³•ã€ã§å®šã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚çµ¶å¯¾ã«ä»–äººã®è‘—ä½œç‰©ã‚’è¨±å¯ãªãè¼‰ã›ãªã„ã§ãã ã•ã„ã€‚</p>
            </div>

            <!-- åŒæ„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¨ãƒœã‚¿ãƒ³ -->
            <div class="agreement flex items-center mb-6">
                <!-- Tailwind CSSã§ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° -->
                <input type="checkbox" id="agreeCheckbox" class="form-checkbox h-5 w-5 text-indigo-600 rounded focus:ring-indigo-500 mr-2 cursor-pointer">
                <label for="agreeCheckbox" class="text-lg select-none cursor-pointer">ä¸Šè¨˜ãƒ«ãƒ¼ãƒ«ã«åŒæ„ã—ã¾ã™</label>
            </div>

            <!-- åŒæ„ãƒœã‚¿ãƒ³ -->
            <button id="agreeButton" disabled class="w-full text-white font-bold py-3 px-4 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 transition duration-300 ease-in-out disabled:cursor-not-allowed">
                åŒæ„ã™ã‚‹
            </button>
        </div>

        <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå•ã‚¨ãƒªã‚¢ (åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º) -->
        <div id="securityQuestionArea" class="security-question mb-6 p-4 border rounded-lg hidden">
            <!-- è³ªå•1 -->
            <div id="question1" class="">
                <p class="mb-3 text-lg font-semibold">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå• 1/3:</p>
                <p class="mb-3">ã“ã®ã‚µãƒ¼ãƒãƒ¼ã®ç®¡ç†äººã¯èª°ã§ã™ã‹ï¼Ÿ</p>
                <input type="text" id="adminNameInput" placeholder="ã“ã“ã«å›ç­”ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" class="w-full p-2 border rounded-md mb-3 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            </div>

            <!-- è³ªå•2 (åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º) -->
            <div id="question2" class="hidden">
                <p class="mb-3 text-lg font-semibold">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå• 2/3:</p>
                <p class="mb-3">ã‚µãƒ¼ãƒãƒ¼åã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                <input type="text" id="serverNameInput" placeholder="ã“ã“ã«å›ç­”ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" class="w-full p-2 border rounded-md mb-3 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            </div>

            <!-- è³ªå•3 (åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º) -->
            <div id="question3" class="hidden">
                <p class="mb-3 text-lg font-semibold">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå• 3/3:</p>
                <p class="mb-3">åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹åã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                <input type="text" id="serviceNameInput" placeholder="ã“ã“ã«å›ç­”ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" class="w-full p-2 border rounded-md mb-3 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            </div>

            <button id="submitAnswerButton" class="w-full text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 transition duration-300 ease-in-out">
                å›ç­”ã‚’é€ä¿¡
            </button>
            <p id="securityMessage" class="mt-3 text-sm text-red-500 text-center hidden"></p>
        </div>
    </div>

    <script>
        // DOMContentLoadedã‚¤ãƒ™ãƒ³ãƒˆã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã€DOMãŒå®Œå…¨ã«ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã®ã‚’å¾…ã¤
        document.addEventListener('DOMContentLoaded', function() {
            const body = document.body;
            const themeToggle = document.getElementById('themeToggle');
            const sunIcon = themeToggle.querySelector('.sun-icon');
            const moonIcon = themeToggle.querySelector('.moon-icon');

            const rulesAndAgreementSection = document.getElementById('rulesAndAgreementSection'); // ãƒ«ãƒ¼ãƒ«ã¨åŒæ„ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…¨ä½“
            const agreeCheckbox = document.getElementById('agreeCheckbox');         // åŒæ„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®è¦ç´ ã‚’å–å¾—
            const agreeButton = document.getElementById('agreeButton');             // åŒæ„ãƒœã‚¿ãƒ³ã®è¦ç´ ã‚’å–å¾—

            const securityQuestionArea = document.getElementById('securityQuestionArea'); // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå•ã‚¨ãƒªã‚¢
            const question1Div = document.getElementById('question1');              // è³ªå•1ã®div
            const question2Div = document.getElementById('question2');              // è³ªå•2ã®div
            const question3Div = document.getElementById('question3');              // è³ªå•3ã®div
            const adminNameInput = document.getElementById('adminNameInput');       // ç®¡ç†è€…åå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (è³ªå•1)
            const serverNameInput = document.getElementById('serverNameInput');     // ã‚µãƒ¼ãƒãƒ¼åå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (è³ªå•2)
            const serviceNameInput = document.getElementById('serviceNameInput');   // ã‚µãƒ¼ãƒ“ã‚¹åå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (è³ªå•3)
            const submitAnswerButton = document.getElementById('submitAnswerButton'); // å›ç­”é€ä¿¡ãƒœã‚¿ãƒ³
            const securityMessage = document.getElementById('securityMessage');     // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚¨ãƒªã‚¢

            let currentSecurityStep = 1; // ç¾åœ¨ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå•ã®ã‚¹ãƒ†ãƒƒãƒ— (1: è³ªå•1, 2: è³ªå•2, 3: è³ªå•3)

            // --- ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ ---
            /**
             * ç¾åœ¨ã®ãƒ†ãƒ¼ãƒè¨­å®šã‚’é©ç”¨ã™ã‚‹é–¢æ•°
             * @param {string} theme - 'light' ã¾ãŸã¯ 'dark'
             */
            function applyTheme(theme) {
                if (theme === 'dark') {
                    body.classList.add('dark-mode');
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                } else {
                    body.classList.remove('dark-mode');
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                }
                localStorage.setItem('theme', theme); // ãƒ†ãƒ¼ãƒè¨­å®šã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
            }

            /**
             * åˆæœŸãƒ†ãƒ¼ãƒè¨­å®šã®ãƒ­ãƒ¼ãƒ‰
             * ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã•ã‚ŒãŸãƒ†ãƒ¼ãƒãŒã‚ã‚Œã°ãã‚Œã‚’é©ç”¨ã—ã€ãªã‘ã‚Œã°ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã‚’é©ç”¨ã—ã¾ã™ã€‚
             */
            function loadTheme() {
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme) {
                    applyTheme(savedTheme);
                } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    applyTheme('dark'); // ã‚·ã‚¹ãƒ†ãƒ ãŒãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’å¥½ã‚€å ´åˆ
                } else {
                    applyTheme('light'); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰
                }
            }

            // ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            themeToggle.addEventListener('click', function() {
                if (body.classList.contains('dark-mode')) {
                    applyTheme('light');
                } else {
                    applyTheme('dark');
                }
            });

            // ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ãƒ¼ãƒè¨­å®šå¤‰æ›´ã‚’ãƒªãƒƒã‚¹ãƒ³
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§ãƒ†ãƒ¼ãƒã‚’è¨­å®šã—ã¦ã„ãªã„å ´åˆã®ã¿ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã‚’é©ç”¨
                if (!localStorage.getItem('theme')) {
                    applyTheme(event.matches ? 'dark' : 'light');
                }
            });

            // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ†ãƒ¼ãƒã‚’ãƒ­ãƒ¼ãƒ‰
            loadTheme();

            // --- ãƒ«ãƒ¼ãƒ«åŒæ„ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå•ã®ãƒ•ãƒ­ãƒ¼ ---

            // åŒæ„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            agreeCheckbox.addEventListener('change', function() {
                // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒãƒã‚§ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚Œã°ã€ŒåŒæ„ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–ã€ãã†ã§ãªã‘ã‚Œã°ç„¡åŠ¹åŒ–
                agreeButton.disabled = !this.checked;
            });

            /**
             * åŒæ„ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
             * ãƒ«ãƒ¼ãƒ«ã¨åŒæ„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤ºã«ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå•ã‚¨ãƒªã‚¢ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
             */
            agreeButton.addEventListener('click', function() {
                // ãƒœã‚¿ãƒ³ã®äºŒé‡ã‚¯ãƒªãƒƒã‚¯ã‚’é˜²ããŸã‚ã€ã‚¯ãƒªãƒƒã‚¯å¾Œã™ãã«ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
                agreeButton.disabled = true;
                agreeButton.textContent = 'æ¬¡ã¸...'; // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›´æ–°

                // ãƒ«ãƒ¼ãƒ«ã¨åŒæ„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹
                rulesAndAgreementSection.classList.add('hidden');

                // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå•ã‚¨ãƒªã‚¢ã‚’è¡¨ç¤ºã™ã‚‹
                securityQuestionArea.classList.remove('hidden');
                question1Div.classList.remove('hidden'); // è³ªå•1ã‚’è¡¨ç¤º
                question2Div.classList.add('hidden');    // è³ªå•2ã¯éè¡¨ç¤º
                question3Div.classList.add('hidden');    // è³ªå•3ã¯éè¡¨ç¤º

                adminNameInput.value = ''; // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¯ãƒªã‚¢
                securityMessage.classList.add('hidden'); // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«ã™ã‚‹
                adminNameInput.focus(); // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹
                currentSecurityStep = 1; // ã‚¹ãƒ†ãƒƒãƒ—ã‚’1ã«ãƒªã‚»ãƒƒãƒˆ
            });

            /**
             * å›ç­”é€ä¿¡ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
             * ç¾åœ¨ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³ªå•ã®ã‚¹ãƒ†ãƒƒãƒ—ã«å¿œã˜ã¦å›ç­”ã‚’æ¤œè¨¼ã—ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚€ã‹Discordãƒªãƒ³ã‚¯ã«é·ç§»ã—ã¾ã™ã€‚
             */
            submitAnswerButton.addEventListener('click', function() {
                securityMessage.classList.add('hidden'); // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒªã‚»ãƒƒãƒˆ

                if (currentSecurityStep === 1) {
                    // è³ªå•1ã®å›ç­”ã‚’æ¤œè¨¼: ã“ã®ã‚µãƒ¼ãƒãƒ¼ã®ç®¡ç†äººã¯èª°ã§ã™ã‹ï¼Ÿ
                    const userAnswer = adminNameInput.value.trim();
                    const correctAnswer = 'djug';

                    if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                        // è³ªå•1ãŒæ­£è§£ã®å ´åˆã€è³ªå•2ã‚’è¡¨ç¤º
                        question1Div.classList.add('hidden');
                        question2Div.classList.remove('hidden');
                        serverNameInput.value = ''; // è³ªå•2ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¯ãƒªã‚¢
                        serverNameInput.focus(); // è³ªå•2ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
                        currentSecurityStep = 2; // ã‚¹ãƒ†ãƒƒãƒ—ã‚’2ã«é€²ã‚ã‚‹
                    } else {
                        // è³ªå•1ãŒä¸æ­£è§£ã®å ´åˆ
                        securityMessage.classList.remove('hidden');
                        securityMessage.textContent = 'å›ç­”ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚';
                        adminNameInput.value = ''; // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¯ãƒªã‚¢
                        adminNameInput.focus(); // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
                    }
                } else if (currentSecurityStep === 2) {
                    // è³ªå•2ã®å›ç­”ã‚’æ¤œè¨¼: ã‚µãƒ¼ãƒãƒ¼åã¯ä½•ã§ã™ã‹ï¼Ÿ
                    const userAnswer = serverNameInput.value.trim();
                    const correctAnswer = 'djugã®é›‘è«‡éƒ¨'; // ã‚µãƒ¼ãƒãƒ¼åã‚’ã€Œdjugã®é›‘è«‡éƒ¨ã€ã«æ›´æ–°

                    if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                        // è³ªå•2ãŒæ­£è§£ã®å ´åˆã€è³ªå•3ã‚’è¡¨ç¤º
                        question2Div.classList.add('hidden');
                        question3Div.classList.remove('hidden');
                        serviceNameInput.value = ''; // è³ªå•3ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¯ãƒªã‚¢
                        serviceNameInput.focus(); // è³ªå•3ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
                        currentSecurityStep = 3; // ã‚¹ãƒ†ãƒƒãƒ—ã‚’3ã«é€²ã‚ã‚‹
                    } else {
                        // è³ªå•2ãŒä¸æ­£è§£ã®å ´åˆ
                        securityMessage.classList.remove('hidden');
                        securityMessage.textContent = 'å›ç­”ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚';
                        serverNameInput.value = ''; // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¯ãƒªã‚¢
                        serverNameInput.focus(); // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
                    }
                } else if (currentSecurityStep === 3) {
                    // è³ªå•3ã®å›ç­”ã‚’æ¤œè¨¼: åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹åã¯ä½•ã§ã™ã‹ï¼Ÿ
                    const userAnswer = serviceNameInput.value.trim();
                    const correctAnswer = 'discord'; // ã‚µãƒ¼ãƒ“ã‚¹å

                    if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                        // è³ªå•3ãŒæ­£è§£ã®å ´åˆã€Discordã¸é·ç§»
                        securityMessage.classList.add('hidden');
                        securityQuestionArea.innerHTML = '<p class="text-green-600 font-semibold text-center">å›ç­”ãŒç¢ºèªã•ã‚Œã¾ã—ãŸã€‚Discordã¸ç§»å‹•ã—ã¾ã™...</p>'; // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º

                        // ç°¡æ˜“çš„ãªé…å»¶ã‚’è¨­ã‘ã‚‹ï¼ˆä¾‹: 500ãƒŸãƒªç§’ï¼‰
                        setTimeout(() => {
                            // Discordæ‹›å¾…ãƒªãƒ³ã‚¯ã«é·ç§»
                            window.location.href = 'https://discord.gg/FfT8trpRWZ';
                        }, 500); // 500ãƒŸãƒªç§’å¾Œã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’å®Ÿè¡Œ
                    } else {
                        // è³ªå•3ãŒä¸æ­£è§£ã®å ´åˆ
                        securityMessage.classList.remove('hidden');
                        securityMessage.textContent = 'å›ç­”ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚';
                        serviceNameInput.value = ''; // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¯ãƒªã‚¢
                        serviceNameInput.focus(); // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
                    }
                }
            });
        });
    </script>
</body>
</html>
